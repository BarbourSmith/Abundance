import { uuid as $uuid } from "@thi.ng/hex";
import { randomBytes, randomBytesFrom } from "./random-bytes.js";
const uuidv4Bytes = (buf, rnd) => {
  buf = buf || new Uint8Array(16);
  buf = rnd ? randomBytesFrom(rnd, buf) : randomBytes(buf);
  buf[6] = 64 | buf[6] & 15;
  buf[8] = 128 | buf[8] & 63;
  return buf;
};
const __buf = new Uint8Array(16);
const uuid = (id, i = 0) => $uuid(id || uuidv4Bytes(__buf), i);
export {
  uuid,
  uuidv4Bytes
};
