import { mag } from "./mag.js";
import { setC2, setC3 } from "./setc.js";
import { vop } from "./vop.js";
const sqrt = Math.sqrt;
const asin = Math.asin;
const atan2 = Math.atan2;
const polar = vop(1);
const polar2 = polar.add(
  2,
  (out, a) => setC2(out || a, mag(a), atan2(a[1], a[0]))
);
const polar3 = polar.add(3, (out, a) => {
  const x = a[0];
  const y = a[1];
  const z = a[2];
  const r = sqrt(x * x + y * y + z * z);
  return r > 0 ? setC3(out || a, r, asin(z / r), atan2(y, x)) : setC3(out || a, 0, 0, 0);
});
export {
  polar,
  polar2,
  polar3
};
